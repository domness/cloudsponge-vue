{"version":3,"file":"index.js","sources":["../src/CloudspongeVue.vue","../src/CloudspongeVuePlugin.ts"],"sourcesContent":["<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\ndeclare global {\n  interface Window { cloudsponge: any; }\n};\n\nexport default defineComponent({\n  name: 'CloudspongeVue',\n  props: {\n    apiKey: {\n      type: String,\n      default: '',\n    },\n    afterSubmit: {\n      type: Function,\n      default: () => {},\n    },\n    config: {\n      type: Object,\n      default: () => {},\n    }\n  },\n  data: () => ({\n    isLoading: true,\n  }),\n  mounted() {\n    this.$nextTick(() => {\n      let externalScript = document.createElement('script');\n      externalScript.setAttribute('src', `https://api.cloudsponge.com/widget/${this.apiKey}.js`);\n      externalScript.async = true;\n      externalScript.onload = () => {\n        window.cloudsponge?.init({\n          ...this.config,\n          afterSubmitContacts: this.afterSubmit,\n          afterInit: this.afterInit,\n        });\n      }\n      document.head.appendChild(externalScript);\n    });\n  },\n  methods: {\n    afterInit() {\n      this.isLoading = false;\n    }\n  }\n});\n</script>\n\n<template>\n  <div class=\"cloudsponge-launch\">\n    <slot name=\"loading\" v-if=\"isLoading\"></slot>\n    <slot name=\"body\" v-else></slot>\n  </div>\n</template>\n\n<style scoped>\n</style>\n","import { App, Plugin } from 'vue';\n\n// Import vue component\nimport component from '@/CloudspongeVue.vue';\n\n// The Install function used by Vue to register the plugin\nexport const CloudspongeVuePlugin: Plugin = {\n  install(app: App) {\n    // register Headline as a global component, so you can use it wherever you want in your app\n    app.component('CloudspongeVue', component);\n  }\n}\n"],"names":["defineComponent"],"mappings":";;;;;AAOA,aAAeA,mBAAe,CAAC;AAC7B,IAAA,IAAI,EAAE,gBAAgB;AACtB,IAAA,KAAK,EAAE;AACL,QAAA,MAAM,EAAE;AACN,YAAA,IAAI,EAAE,MAAM;AACZ,YAAA,OAAO,EAAE,EAAE;AACZ,SAAA;AACD,QAAA,WAAW,EAAE;AACX,YAAA,IAAI,EAAE,QAAQ;AACd,YAAA,OAAO,EAAE,MAAM,GAAE;AAClB,SAAA;AACD,QAAA,MAAM,EAAE;AACN,YAAA,IAAI,EAAE,MAAM;AACZ,YAAA,OAAO,EAAE,MAAM,GAAE;AACnB,SAAA;AACD,KAAA;AACD,IAAA,IAAI,EAAE,OAAO;AACX,QAAA,SAAS,EAAE,IAAI;KAChB,CAAC;IACF,OAAO,GAAA;AACL,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM;YACnB,IAAI,cAAe,GAAE,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;YACrD,cAAc,CAAC,YAAY,CAAC,KAAK,EAAE,CAAsC,mCAAA,EAAA,IAAI,CAAC,MAAM,CAAK,GAAA,CAAA,CAAC,CAAA;AAC1F,YAAA,cAAc,CAAC,QAAQ,IAAI,CAAA;AAC3B,YAAA,cAAc,CAAC,SAAS,MAAM;AAC5B,gBAAA,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC;oBACvB,GAAG,IAAI,CAAC,MAAM;oBACd,mBAAmB,EAAE,IAAI,CAAC,WAAW;oBACrC,SAAS,EAAE,IAAI,CAAC,SAAS;AAC1B,iBAAA,CAAC,CAAA;AACJ,aAAA,CAAA;AACA,YAAA,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAA;AAC3C,SAAC,CAAC,CAAA;KACH;AACD,IAAA,OAAO,EAAE;QACP,SAAS,GAAA;AACP,YAAA,IAAI,CAAC,SAAU,GAAE,KAAK,CAAA;SACxB;AACF,KAAA;AACD,CAAA,CAAC;;;;;;;;;;;;;;;AC5CF;AAGA;AACa,MAAA,oBAAoB,GAAW;AAC1C,IAAA,OAAO,CAAC,GAAQ,EAAA;;AAEd,QAAA,GAAG,CAAC,SAAS,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC;KAC5C;;;;;;"}